<!--h1>Company Dashboard</h1-->

<div class="dashboard-container" style="display: flex;" data-controller="dashboard">
  <!-- Sidebar -->
  <div class="sidebar" style="width: 250px; margin-right: 20px;">
    <!-- Dropdown for Projects -->
    <div class="dropdown" data-controller="dropdown">
      <!-- Button for Dropdown -->
      <button class="btn btn-secondary dropdown-toggle" type="button" data-action="click->dropdown#toggle">
        Projects
      </button>
      <ul class="dropdown-menu" data-dropdown-target="menu">
        <li>
          <%= link_to 'My Projects', enterprise_projects_path(current_user), data: { action: "click->dashboard#changeContent" } %>
        </li>
        <li>
          <%= link_to 'Ongoing Projects', enterprise_projects_path(status: 2), data: { action: "click->dashboard#changeContent" } %>
        </li>
        <li>
          <%= link_to 'Archived Projects', enterprise_projects_path(status: 5), data: { action: "click->dashboard#changeContent" } %>
        </li>
        <li>
          <%= link_to 'Create New Project', new_enterprise_project_path(current_user), data: { action: "click->dashboard#changeContent" } %>
        </li>
      </ul>
    </div>

    <!-- Profile dropdown -->
    <div class="dropdown">
      <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        My Profile
      </button>
      <ul class="dropdown-menu">
        <li><p class="dropdown-item">View Profile</p></li>
        <li><p class="dropdown-item">Edit Profile</p></li>
      </ul>
    </div>

    <!-- Messages text (instead of link) -->
    <p class="btn btn-link">Messages</p>

    <!-- Browse Freelancers text (instead of link) -->
    <p class="btn btn-link">Browse Freelancers</p>
  </div>

  <!-- Main content area where the table will be injected -->
    <!-- Main Content -->
  <main class="dashboard-content">
      <div id="projects-container">
        <turbo-frame id="projects_frame">
        <h2> Projects</h2>
          <%= render partial: "projects_table", locals: { projects: @ongoing_projects } %>
        </turbo-frame>
      </div>
  </main>
</div>
