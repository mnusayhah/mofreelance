<!--h1>Company Dashboard</h1-->

<div class="dashboard-container d-flex">
  <!-- Sidebar -->
  <div class="sidebar p-3">
    <ul class="nav flex-column">
      <!-- Dropdown for Projects -->
      <li class="nav-item">
        <button class="btn-pill-custom-blue w-100" type="button" data-bs-toggle="collapse" data-bs-target="#projectsDropdown">
          Projects
        </button>
        <ul id="projectsDropdown" class="collapse mt-2">
          <li>
            <%= link_to 'Create New Project', new_enterprise_project_path, class: "dropdown-item", data: { turbo_frame: "projects_frame" } %>
          </li>
          <li>
            <%= link_to "Open / Pending", enterprise_projects_path(status: ['open', 'pending']), class: "dropdown-item", data: { turbo_frame: "projects_frame" } %>
          </li>
          <li>
            <%= link_to "Ongoing", enterprise_projects_path(status: 'ongoing'), class: "dropdown-item", data: { turbo_frame: "projects_frame" } %>
          </li>
          <li>
            <%= link_to "Paid / Completed", enterprise_projects_path(status: ['paid', 'completed']), class: "dropdown-item", data: { turbo_frame: "projects_frame" } %>
          </li>
        </ul>
      </li>

      <!-- Messages text (instead of link) -->
      <li class="nav-item mt-2">
        <button class="btn-pill-custom-blue w-100">
          Messages
        </button>
      </li>

      <!-- Browse Freelancers button styled like other buttons -->
      <li class="nav-item mt-2">
        <%= link_to 'Browse Talents', freelancer_profiles_path, class: "btn-pill-custom-blue w-100 btn text-white text-center" %>
      </li>
    </ul>
  </div>


<!-- Main content area where the table will be injected -->
  <main class="dashboard-content flex-grow-1 p-4">
    <turbo-frame id="projects_frame">
      <%= render partial: "projects_list", locals: { projects: @projects } %>
    </turbo-frame>
  </main>
</div>
